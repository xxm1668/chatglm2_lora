#### 1、环境  
fb16占用22G显存  
INT8占用   

#### 2、运行命令  

需要更改里面的chatglm2对应的model目录和文件目录  
CUDA_VISIBLE_DEVICES=0 python3 train.py  

#### 3、训练日志  
#####  Epoch 1 / 50  

#####  100%|███████████████████████████████| 1392/1392 [08:51<00:00,  2.62it/s, lr=0.0005, train_loss=3.07]  
#####  100%|████████████████████████████████████████████████| 15/15 [00:01<00:00, 10.03it/s, val_loss=2.89]  

#### 4、分布式  

CUDA_VISIBLE_DEVICES=3 deepspeed --master_port 12345 --num_gpus=1 train2.py \
    ----deepspeed conf/mydeepspeed.json


#### 5、推理  

运行 CUDA_VISIBLE_DEVICES=0 python3 inference.py  

#####  99%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████▌ | 99/100 [01:29<00:00,  1.23it/s]  
 
#####  query： 江北核心区，燕子矶，迈皋桥，怎么选择    

#####  response： 你好！个人建议是优先考虑核心区和城南中心。如果预算有限的话可以先摇燕然居  

------------  
#####  100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 100/100 [01:29<00:00,  1.12it/s]

####  6、数据集  
#####  医疗数据集可以参考：https://huggingface.co/datasets/shibing624/medical  

#### 7、reward  

TODO
